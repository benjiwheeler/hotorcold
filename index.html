<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title><?=TITLE?></title>
<style type="text/css">
/* Yahoo CSS Reset - Copyright (c) 2010, Yahoo! Inc. All rights reserved. Code licensed under the BSD License: http://developer.yahoo.com/yui/license.html version: 2.8.1 */
html{color:#000;background:#FFF;}body,div,dl,dt,dd,ul,ol,li,h1,h2,h3,h4,h5,h6,pre,code,form,fieldset,legend,input,button,textarea,p,blockquote,th,td{margin:0;padding:0;}table{border-collapse:collapse;border-spacing:0;}fieldset,img{border:0;}address,caption,cite,code,dfn,em,strong,th,var,optgroup{font-style:inherit;font-weight:inherit;}del,ins{text-decoration:none;}li{list-style:none;}caption,th{text-align:left;}h1,h2,h3,h4,h5,h6{font-size:100%;font-weight:normal;}q:before,q:after{content:'';}abbr,acronym{border:0;font-variant:normal;}sup{vertical-align:baseline;}sub{vertical-align:baseline;}legend{color:#000;}input,button,textarea,select,optgroup,option{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;}input,button,textarea,select{*font-size:100%;}

/* 1KB grid - 12 columns, 60 pixels each, with 20 pixel gutter (960px) */
.g1{width:60px;}.g2{width:140px;}.g3{width:220px;}.g4{width:300px;}.g5{width:380px;}.g6{width:460px;}.g7{width:540px;}.g8{width:620px;}.g9{width:700px;}.g10{width:780px;}.g11{width:860px;}.g12{width:940px;}.g1,.g2,.g3,.g4,.g5,.g6,.g7,.g8,.g9,.g10,.g11,.g12{overflow:hidden;float:left;display:inline;margin:0 10px;}.row{width:960px;overflow:hidden;margin:0 auto;}.row .row{width:auto;display:inline-block;margin:0 -10px;}

/* Common styling */
.center {text-align:center}
.right {text-align:right}
.left {text-align:left}
.fright {float:right}
.fleft {float:left}
strong,.strong {font-weight:900}
em,.em {background:#FF9}
small,.small {font-size:.7em}

.textbox {
    margin-top: 5px;
    margin-bottom: 5px;
    padding: 5px;
    border-radius: 6px;
    border: 1px solid #bbb;
    margin-left: auto;
    margin-right: auto;
    text-align: center;
}

#main {
    margin: 100px auto;
    width: 300px;
}

#title {
   font-family: verdana;
   font-size: 40px;
//    height: 100px;
//    width: auto;

    background-color: #6a924f;
    background-image: -webkit-gradient(linear, left top, left bottom, from(#ccccff), to(#eee));
    background-image:         linear-gradient(#ff9999, #aaaaff);
    padding: 10px 10px;
    color: #000;
}

#instructions {
    z-index: 5;
}

#info {
    position: relative;
    z-index: 5;
    display: none;
}

#responsebox {
    z-index: 10;
    position: relative;
    display: none;
}

#guessbox {
    z-index: 5;
    position: relative;
    background-color: #eefff5;    
}

#guessinput {
    position: static;
    background-color: #f5ffee;
    margin: 5px auto;
    padding: 10px 10px;
    width: 100px;
    border-radius: 6px;
    border: 1px solid #bbb;
    font-family: verdana;
    font-size: 24px;
    color: #000;
}

#submitguess {
    margin: 5px;
}

p {
  font-family: arial;
  font-size: 12px;
}

/* Style sheet -  */
body {}
 #navtop {}
  #navtop div ul li {display:inline}
 #header {}
  #header div h1 {}
 #nav {}
  #nav div ul li {display:inline}
 #content {}
  #sidebar-one {}
  #sidebar-two {}
  #main {}
 #footer {}
  #footer div {}

</style>
  <link rel="stylesheet" type="text/css" href="animate.css">
</head>

<body>

<div id="main">
  <div id="title" class="textbox">Hot or Cold</div>
  <div id="instructions" class="textbox"><p>I'm thinking of a positive integer... can you guess it?</p></div>
  <div id="info" class="textbox"><p>So far, you have used <span id="numguesses">0 guesses</span></p></div>
  <div id="responsebox" class="textbox"><p><span id="responsetext"></span></p></div>
  <div id="guessbox" class="textbox"><p>Make a guess:</p>
  <form id="guessform" action="index.html"><input type="text" name="guess" id="guessinput"></input>
  <br><input type="submit" id="submitguess" />
  </form></div>
</div>

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script type="text/javascript" src="https://raw.github.com/alexei/sprintf.js/master/src/sprintf.min.js"></script> 
<script type="text/javascript">
$(document).ready(function() {
    $('#guessinput').focus();

    var numguesses = 0;
    var target = Math.max(Math.floor(Math.log(Math.random()) * -100), 1);

    $('#guessform').on('submit', function() {
	var guessval = parseInt($('#guessinput').val());
	if (isNaN(guessval)) return false;


	var tooFarDir = "ERROR";
        switch (true) {
        case (guessval > target):
            tooFarDir = "too high";
	    break;
        case (guessval < target):
            tooFarDir = "too low";                                    
	    break;
	default:
	    tooFarDir = "";
	    break;
        }

	// < .1 is pretty far; >.5 is in the ballpark; >.75 is hot; 1.0 is scorching
	var temperature = guessval == target ? 1.0 : Math.min(1.0, .1/Math.abs(Math.log((guessval + 20)/(target + 20))));
	var tempdesc = "unclear";
	switch (true) {
	case (temperature < .1):
	    tempdesc = "freezing";
	    break;
	case (temperature < .25):
	    tempdesc = "cold";
	    break;
	case (temperature < .5):
	    tempdesc = "lukewarm";
	    break;
	case (temperature < .8):
	    tempdesc = "warm";
	    break;
	case (temperature < .95):
	    tempdesc = "hot";
	    break;
	default:
	    tempdesc = "sizzling hot";
	    break;
	}

	// turn temperature into separate color values for
	// red, green, and blue. idea is when temperature is
	// 0, color is light blue. when temperature is 1.0,
	// color is bright red.
	var redness = Math.floor(Math.min(160 + 200 * temperature, 255));
	var greenness = Math.floor(255 - 190 * temperature);
	var blueness = Math.floor(255 - 220 * temperature);
	var color = "";
	//   alert("guess: " + guessval + " target: " + target + " dir: " + tooFarDir + " temperature: " + temperature + " color: " + color);
	
	// report on closeness and direction of guess, change color of text background
	if (target == guessval) {
	    $('#responsetext').text("CORRECT! Reload page to play again.");
	    $('#responsebox').addClass('animated rotateIn');	    
	    color = "#bbffbb";
	} else {
	    $('#responsetext').text("You are " + tempdesc + "! Your guess, " + guessval + ", was " + tooFarDir);
	    color = sprintf("#%02X%02X%02X", redness, greenness, blueness);
	}
	$('#responsebox').css('background-color', color);
	
	// update number of guesses
	numguesses += 1;
	if (numguesses <= 1) {
	    $('#numguesses').text(numguesses + " guess");
	    $('#responsebox').show();
	    $('#responsebox').addClass('animated flipInX');
	} else if (numguesses == 2) {
	    $('#numguesses').text(numguesses + " guesses");
	    $('#responsebox').removeClass('flipInX');
	    $('#responsebox').addClass('wobble');
	} else {
	    $('#numguesses').text(numguesses + " guesses");
//	    $('#responsebox').toggleClass('flip');
	    $('#responsebox').removeClass('wobble');
	    window.setTimeout(function(){ $('#responsebox').addClass('wobble'); }, 1);
//	    $('#responsebox').css('-webkit-animation-iteration-count', 2);
	//    $('#responsebox').css('-webkit-animation-play-state', 'running');
	}
	$('#info').show();

	// hide instructions
	$('#instructions').hide();
	return false;
    });
});
</script>

</body>
</html>
